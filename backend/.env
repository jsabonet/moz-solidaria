DEBUG=False
SECRET_KEY=moz-solidaria-production-secret-key-2024-change-this-in-production
ALLOWED_HOSTS=127.0.0.1,167.99.93.20,209.97.128.71
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173,http://127.0.0.1:5173,http://localhost:8080,http://127.0.0.1:8080,http://localhost:8081,http://127.0.0.1:8081

# Database Configuration - PostgreSQL DigitalOcean
DATABASE_URL=postgresql://adamoabdala:Jeison2%40%40@127.0.0.1:5432/moz_solidaria_db
# DATABASE_URL=sqlite:///db.sqlite3

# PostgreSQL Configuration
DB_NAME=moz_solidaria_db
DB_USER=adamoabdala
DB_PASSWORD=Jeison2@@
DB_HOST=127.0.0.1
DB_PORT=5432

# JWT Configuration
JWT_SECRET_KEY=moz-solidaria-jwt-secret-key-2024
# 1. Verificar se localhost está configurado corretamente
cat /etc/hosts | grep localhost

# 2. Atualizar o .env para usar 127.0.0.1 ao invés de localhost
cd /home/ubuntu/moz-solidaria/backend
sed -i 's/localhost/127.0.0.1/g' .env

# 3. Verificar se mudou
cat .env | grep DATABASE_URL

# 4. Testar conexão novamente
python -c "
import psycopg
from decouple import config
try:
    conn = psycopg.connect(config('DATABASE_URL'))
    print('✅ Conexão com psycopg funcionou!')
    conn.close()
except Exception as e:
    print('❌ Erro:', e)
"

# 5. Testar Django
python manage.py check
python manage.py migrate